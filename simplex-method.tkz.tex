\begin{figure}[!thb]
  \centering
  \begin{tikzpicture}
    \begin{axis}[
      x=1.5cm, y=1.5cm,
      xlabel=$x_1$,
      ylabel=$x_2$,
      xtick={1, 2, 3, 4, 5, 6},
      ytick={1, 3, 4, 5},
      xmin=-1, ymin=-1,
      xmax=7, ymax=6,
      axis x line=center,
      axis y line=center,
      pattern color=gray]
      
      % Set of feasible solutions
      \addplot[thick,draw=black,mark=none,pattern=dots]
      coordinates{(0,0) (0,2) (2,3.5) (5,0)} \closedcycle;
      \label{plot:simplex-feasible-space}

      % Antigradient
      \addplot[arrows=-stealth', dashed, very thick]
      coordinates {(1.5, 0.75) (2.25,2.25)};
      \label{plot:antigradient}

      \input{simplex_prob-contours.tkz.tex}
      
      % Boundaries
      \draw[thick] (axis cs:-0.5, 1.625)--(axis cs:4, 5)
      node [sloped,above,pos=0.85] {$-3x_1+4x_2 = 8$};
      \draw[thick] (axis cs:1.5, 4.0833)--(axis cs:5.5, -0.5833)
      node [sloped,above,pos=0.5] {\contour{white}{$7x_1+6x_2=35$}};

      % Pins for solutions on each step
      \draw node[circle, fill=black, scale=0.5, every pin edge/.style={draw=black, line width=2pt},
                 pin={right:\contour{white}{$(2, 3.5)$}}] at (axis cs:2,3.5) {};
      \draw node[circle, fill=black, scale=0.5, 
                 pin={left:$(0, 2)$}] at (axis cs:0,2) {};

      % Minimization process
      \addplot[line width=2pt, arrows=-triangle 45] coordinates{(0, 0) (0, 2)};
      \addplot[line width=2pt, arrows=-triangle 45] coordinates{(0, 2) (2,3.5)};
    \end{axis}
  \end{tikzpicture}
  \caption[Симплекс-метод]{Ход решения задачи \eqref{eq:lp-simple}
    симплекс-методом}
  \label{fig:simplex-method}
\end{figure}
